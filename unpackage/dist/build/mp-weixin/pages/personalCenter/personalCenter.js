(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personalCenter/personalCenter"],{"3b65":function(n,t,e){"use strict";var a={uniNavBar:function(){return e.e("components/uni-nav-bar/uni-nav-bar").then(e.bind(null,"58e3"))}},r=function(){var n=this,t=n.$createElement;n._self._c},o=[];e.d(t,"b",(function(){return r})),e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){return a}))},"3e45":function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(e("4795")),r=e("ae66"),o=e("07d3"),i=e("19b8"),u=e("25f9");function c(n){return n&&n.__esModule?n:{default:n}}function s(n,t,e,a,r,o,i){try{var u=n[o](i),c=u.value}catch(s){return void e(s)}u.done?t(c):Promise.resolve(c).then(a,r)}function l(n){return function(){var t=this,e=arguments;return new Promise((function(a,r){var o=n.apply(t,e);function i(n){s(o,a,r,i,u,"next",n)}function u(n){s(o,a,r,i,u,"throw",n)}i(void 0)}))}}var f=function(){e.e("components/activityRule").then(function(){return resolve(e("e0b7"))}.bind(null,e)).catch(e.oe)},v=function(){e.e("components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(e("58e3"))}.bind(null,e)).catch(e.oe)},d={name:"personalCenter",components:{activityRule:f,uniNavBar:v},computed:{safeAreaTop:function(){var t=n.getStorageSync("userSystemInfo"),e=t.safeArea.top;return e},nickNameSub:function(){var n=this.userInfo.nickName,t=(0,u.strSub)(n,14,7,"...");return t}},data:function(){return{activityRuleSource:"2",activityRuleIsShow:!1,isStartAnimation:!1,staticUrl:r.config.staticUrl,pctList:[{id:1,isCanClick:!0,status:1,name:"查看中奖记录",icon:"/static/crownCookiesImg/zhongjiangjiluIcon.png",navUrl:"/pages/winningRecord/winningRecord"},{id:2,isCanClick:!0,status:1,name:"输入序列码抽奖",icon:"/static/crownCookiesImg/xuliehaoIcon.png",navUrl:"/pages/strCode/strCode"},{id:3,isCanClick:!0,status:2,name:"活动规则",icon:"/static/crownCookiesImg/huodongguizeIcon.png",navUrl:""}],userInfo:{avatarUrl:"",nickName:""},allAccountMoney:0,totalPrizeNum:0}},onLoad:function(){return l(a.default.mark((function n(){return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,u.getUserDataFun)();case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))()},onShow:function(){var t=this;(0,i.queryUserHomePage)().then((function(n){n?(t.allAccountMoney=String(n.allAccountMoney),t.totalPrizeNum=String(n.totalPrizeNum)):(t.allAccountMoney=0,t.totalPrizeNum=0)}));var e=this;n.getStorage({key:"userInfo",success:function(n){var t=n.data;e.userInfo.avatarUrl=t.avatarUrl,e.userInfo.nickName=t.nickName},fail:function(n){e.userInfo.avatarUrl="",e.userInfo.nickName=""}})},onShareAppMessage:function(n){return"button"===n.from&&console.log(n.target),{title:"皇冠曲奇",path:"/pages/personalCenter/personalCenter",imageUrl:this.staticUrl+"fenxiangImg.png"}},methods:{getUserInfoFn:function(){var n=this;(0,o.getUserInfo)().then((function(t){var e=n;e.userInfo.avatarUrl=t.userInfo.avatarUrl,e.userInfo.nickName=t.userInfo.nickName}))},listNav:function(t){var e=t,a=this;console.log(t),e.isCanClick&&(1==e.status?n.navigateTo({url:e.navUrl}):(a.activityRuleIsShow=!0,a.isStartAnimation=!0,this.$refs.activityRuleChild.isStartAnimationFun(!0)))},updateActivityRuleColse:function(n){var t=this;t.activityRuleIsShow=!1}}};t.default=d}).call(this,e("543d")["default"])},"7cda":function(n,t,e){"use strict";var a=e("d546"),r=e.n(a);r.a},b569:function(n,t,e){"use strict";(function(n){e("8d82");a(e("66fd"));var t=a(e("bcb6"));function a(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,e("543d")["createPage"])},bcb6:function(n,t,e){"use strict";e.r(t);var a=e("3b65"),r=e("ebb4");for(var o in r)"default"!==o&&function(n){e.d(t,n,(function(){return r[n]}))}(o);e("7cda");var i,u=e("f0c5"),c=Object(u["a"])(r["default"],a["b"],a["c"],!1,null,"1e7c18ea",null,!1,a["a"],i);t["default"]=c.exports},d546:function(n,t,e){},ebb4:function(n,t,e){"use strict";e.r(t);var a=e("3e45"),r=e.n(a);for(var o in a)"default"!==o&&function(n){e.d(t,n,(function(){return a[n]}))}(o);t["default"]=r.a}},[["b569","common/runtime","common/vendor"]]]);